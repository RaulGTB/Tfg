

<section class="section-account py-5 bg-black text-white border-secondary fade-up">
  <div class="container">
    <h2 class="section-title mb-5 text-center text-lime pop-in">TU CUENTA</h2>

    <div class="row mb-4 align-items-center fade-up">
      <div class="col-md-4 text-center">
        <img
          [src]="editAvatarUrl"
          alt="Avatar"
          class="rounded-circle border border-lime"
          style="width: 150px; height: 150px; object-fit: cover;"
        />
        <input type="file" (change)="onAvatarSelected($event)" accept="image/*" class="form-control mt-3" />
      </div>

      <div class="col-md-8">
        <form #form="ngForm" (ngSubmit)="saveChanges()" novalidate>
          <div class="mb-3">
            <label for="name" class="form-label text-lime">Nombre</label>
            <input
              type="text"
              id="name"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="editName"
              name="name"
              required
            />
          </div>

          <div class="mb-3">
            <label for="email" class="form-label text-lime">Email</label>
            <input
              type="email"
              id="email"
              class="form-control bg-dark text-white border-secondary"
              [(ngModel)]="editEmail"
              name="email"
              required
              email
            />
          </div>

          <button
            class="btn btn-lime-outline"
            type="submit"
            [disabled]="loading || !form.form.valid"
          >
            {{ loading ? 'Guardando...' : 'Guardar cambios' }}
          </button>

          <div class="mt-3">
            <small class="text-success">{{ message }}</small>
            <small class="text-danger">{{ error }}</small>
          </div>
        </form>
      </div>
    </div>

    <div class="row text-center mt-4 fade-up">
      <div class="col">
        <button class="btn btn-lime-outline me-3" (click)="logout()">Cerrar sesi√≥n</button>
        <button class="btn btn-lime-outline" (click)="refreshUser()">Actualizar datos</button>
      </div>
    </div>
  </div>
</section>
