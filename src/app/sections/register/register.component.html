<main class="d-flex align-items-center justify-content-center" style="min-height:100vh">
  <section class="register-section card-dark p-5 shadow fade-up">
    <h2 class="text-center mb-4">Registro</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="mb-3">
        <label for="username" class="form-label">Nombre de usuario</label>
        <input id="username" type="text" formControlName="username" class="form-control" placeholder="Introduce tu nombre de usuario" />
        <div *ngIf="submitted && f['username'].errors">
          <div *ngIf="f['username'].errors?.['required']" class="text-danger mt-1 small">El nombre de usuario es obligatorio.</div>
          <div *ngIf="f['username'].errors?.['minlength']" class="text-danger mt-1 small">Debe tener al menos 3 caracteres.</div>
        </div>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Correo electrónico</label>
        <input id="email" type="email" formControlName="email" class="form-control" placeholder="ejemplo@correo.com" />
        <div *ngIf="submitted && f['email'].errors">
          <div *ngIf="f['email'].errors?.['required']" class="text-danger mt-1 small">El correo es obligatorio.</div>
          <div *ngIf="f['email'].errors?.['email']" class="text-danger mt-1 small">Introduce un correo válido.</div>
        </div>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Contraseña</label>
        <input id="password" type="password" formControlName="password" class="form-control" placeholder="********" />
        <div *ngIf="submitted && f['password'].errors">
          <div *ngIf="f['password'].errors?.['required']" class="text-danger mt-1 small">La contraseña es obligatoria.</div>
          <div *ngIf="f['password'].errors?.['minlength']" class="text-danger mt-1 small">Debe tener al menos 6 caracteres.</div>
        </div>
      </div>
      <div class="mb-4">
        <label for="confirmPassword" class="form-label">Confirmar contraseña</label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" class="form-control" placeholder="********" />
        <div *ngIf="submitted && (f['confirmPassword'].errors || registerForm.errors?.['mismatch'])">
          <div *ngIf="f['confirmPassword'].errors?.['required']" class="text-danger mt-1 small">Debes confirmar la contraseña.</div>
          <div *ngIf="registerForm.errors?.['mismatch']" class="text-danger mt-1 small">Las contraseñas no coinciden.</div>
        </div>
      </div>
      <button type="submit" class="btn btn-accent w-100 btn-submit">Registrarse</button>
      <div *ngIf="errorMsg" class="alert alert-danger mt-3">{{ errorMsg }}</div>
      <div *ngIf="successMsg" class="alert alert-success mt-3">{{ successMsg }}</div>
    </form>
  </section>
</main>
